<!DOCTYPE html>
<head>
    <title>javascript project</title>
<style>
    table{
        width: 100px;
        margin: 40px auto;
        height: 200px;
        background:rgb(198, 145, 241);
    }
    table.list{
        text-align:center;
        width: 100%;

    }
    td{
        border: 2px solid black;
        text-align: justify;
        padding: 8px 15px;
    }
    tr:nth-child(even),table.list thread> tr{
        background-color: rgb(16, 87, 150);
    }
   
</style>
</head>
<body>
    <div id="container" style="width:700px;"></div>
</body>
    <table>
        <tr>
       <td>
        <form onsubmit = "event.preventDefault();onFormSubmit();"autocomplete="off">
               <div>
                   <label for="qualification">Qualification</label>
                   <br>
                   <input type="file" name="qualification" id="qualification" value="">   
               </div>
               <br>
               <div>
                <label for="contact">Contact</label>
                <input type="text" name="contact" id="contact" value="">
                
            </div>
            <br>
            <div>
                <label for="picode">Picode</label>
                <input type="text" name="picode" id="picode" value="">
                
            </div>
            <br>
            <div>
                <label for="address">Address</label>
                <input type="address" name="address" id="address" value="">
                
            </div>
<br>
            <div class="form_action-button">
                <input type="submit" value="Submit">
                <input type="reset" value="Reset">
            </div>
           </form>
           <td>
               <table class="list" id="info" value="">
                   <thead>
                       <tr>
                           <th>qualification</th>
                           <th>contact</th>
                           <th>picode</th>
                           <th>address</th>
                       </tr>
                   </thead>
                   <tbody>

                   </tbody>
               </table>
           </td>

       </td>

        </tr>
    </table>


    <script>
      var selectedRow = null;
      function onFormSubmit(){
        event.preventDefault();
            var formData = readFromData();
            console.log(formData)
            if(selectedRow=== null){
                insertNewRecord(formData);
            }
            else{
                 updateRecord(formData);
            }
        resetForm();
      }

      function readFromData(){
          var formData = {};
              formData["qualification"] = document.getElementById("qualification").value;
              formData["contact"] = document.getElementById("contact").value;
              formData["picode"] = document.getElementById("picode").value;
              formData["address"] = document.getElementById("address").value;
          return formData;
      }

      function insertNewRecord(data){
          var table = document.getElementById("info").getElementsByTagName('tbody')[0];
          var newRow = table.insertRow(table.length);
          var cell1 = newRow.insertCell(0);
               cell1.innerHTML = data.qualification;
          var cell2 = newRow.insertCell(1);
               cell2.innerHTML = data.contact;
          var cell3 = newRow.insertCell(2);
               cell3.innerHTML = data.picode;
          var cell4 = newRow.insertCell(3);
               cell4.innerHTML = data.address;

          var cell5 = newRow.insertCell(4);
               cell5.innerHTML = '<a onClick="onEdit(this)">Edit</a> <a onClick="onDelete(this)">Delete</a>'
      }

       function onEdit(td){
           selectedRow =td.parentElement.parentElement;
           document.getElementById('qualification').value= selectedRow.cells[0].innerHTML;
           document.getElementById('contact').value= selectedRow.cells[1].innerHTML;
           document.getElementById('picode').value= selectedRow.cells[2].innerHTML;
           document.getElementById('address').value= selectedRow.cells[3].innerHTML;

      }

      function updateRecord(formData){
    selectedRow.cells[0].innerHTML = formData.qualification;
    selectedRow.cells[1].innerHTML = formData.contact;
    selectedRow.cells[2].innerHTML = formData.picode;
    selectedRow.cells[3].innerHTML = formData.address;
      }

      function onDelete(td){
          if(confirm('Do you want to delete this record?')){
              row = td.parentElement.parentElement;
              document.getElementById('info').deleteRow(row.rowIndex);
          }
          resetForm();
      }

      function resetForm(){
          document.getElementById('qualification').value = '';
          document.getElementById('contact').value = '';
          document.getElementById('picode').value = '';
          document.getElementById('address').value = '';

      }


      
      
    </script>
</html>